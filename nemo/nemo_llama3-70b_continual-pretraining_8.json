{ "displayName": "nemo_llama3-70b_continual-pretraining_8", "jobSpec": { "workerPoolSpecs": [ { "machineSpec": { "machineType": "a3-megagpu-8g", "acceleratorType": "NVIDIA_H100_MEGA_80GB", "acceleratorCount": 8 }, "replicaCount": "1", "diskSpec": { "bootDiskType": "pd-ssd", "bootDiskSizeGb": 100 }, "containerSpec": { "imageUri": "classicboyir/nemo:02", "command": [ "sh", "-c" ], "args": [ "git clone -b sync-copy-mpi https://github.com/hosseinsarshar/dist-training-vertex.git && chmod +x ./dist-training-vertex/nemo/utils/model_copy.sh && ./dist-training-vertex/nemo/utils/model_copy.sh gs://britt-multi/nemo/llama-3-70b.nemo /workspace/converted_models/llama3-70b.nemo && chmod +x ./dist-training-vertex/nemo/job.sh && ./dist-training-vertex/nemo/job.sh" ], "env": [ { "name": "ADDITIONAL_ARGS", "value": "++model.micro_batch_size=1 ++trainer.max_steps=2 ++trainer.limit_val_batches=0.0 ++trainer.val_check_interval=1 ++model.resume_from_checkpoint=/workspace/converted_models/llama3-70b.nemo" }, { "name": "CONFIG_PATH", "value": "/workspace/dist-training-vertex/nemo/configs/" }, { "name": "CONFIG_NAME", "value": "llama3-70b.yaml" }, { "name": "LOG_DIR", "value": "/tmp/" }, { "name": "NNODES", "value": "8" } ] } }, { "machineSpec": { "machineType": "a3-megagpu-8g", "acceleratorType": "NVIDIA_H100_MEGA_80GB", "acceleratorCount": 8 }, "replicaCount": "7", "diskSpec": { "bootDiskType": "pd-ssd", "bootDiskSizeGb": 100 }, "containerSpec": { "imageUri": "classicboyir/nemo:02", "command": [ "sh", "-c" ], "args": [ "git clone -b sync-copy-mpi https://github.com/hosseinsarshar/dist-training-vertex.git && chmod +x ./dist-training-vertex/nemo/utils/model_copy.sh && ./dist-training-vertex/nemo/utils/model_copy.sh gs://britt-multi/nemo/llama-3-70b.nemo /workspace/converted_models/llama3-70b.nemo && chmod +x ./dist-training-vertex/nemo/job.sh && ./dist-training-vertex/nemo/job.sh" ], "env": [ { "name": "ADDITIONAL_ARGS", "value": "++model.micro_batch_size=1 ++trainer.max_steps=2 ++trainer.limit_val_batches=0.0 ++trainer.val_check_interval=1 ++model.resume_from_checkpoint=/workspace/converted_models/llama3-70b.nemo" }, { "name": "CONFIG_PATH", "value": "/workspace/dist-training-vertex/nemo/configs/" }, { "name": "CONFIG_NAME", "value": "llama3-70b.yaml" }, { "name": "LOG_DIR", "value": "/tmp/" }, { "name": "NNODES", "value": "8" } ] } } ], "enableWebAccess": true } }
